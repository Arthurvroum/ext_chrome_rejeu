{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nexport default {\n  name: 'VariablesTab',\n  props: {\n    steps: {\n      type: Array,\n      required: true\n    },\n    results: {\n      type: Array,\n      default: () => []\n    }\n  },\n  computed: {\n    stepsWithVariables() {\n      return this.steps.map((step, index) => ({\n        ...step,\n        index,\n        hasVariableCaptures: this.hasVariableCaptures(step),\n        hasCapturedVariables: this.hasCapturedVariables(index)\n      })).filter(step => step.hasVariableCaptures || step.hasCapturedVariables);\n    },\n    totalCapturedVariables() {\n      let count = 0;\n      this.steps.forEach((step, index) => {\n        if (this.results && this.results[index] && this.results[index].capturedVariables) {\n          count += Object.keys(this.results[index].capturedVariables).length;\n        }\n      });\n      return count;\n    },\n    hasCapturingSteps() {\n      return this.steps.some(step => step.variableCaptures && step.variableCaptures.length > 0);\n    }\n  },\n  data() {\n    return {\n      expandedItems: [] // Tableau pour stocker les indices des panneaux ouverts\n    };\n  },\n  methods: {\n    hasVariableCaptures(step) {\n      return step.variableCaptures && step.variableCaptures.length > 0;\n    },\n    hasCapturedVariables(index) {\n      return this.results && this.results[index] && this.results[index].capturedVariables && Object.keys(this.results[index].capturedVariables).length > 0;\n    },\n    getCapturedVariablesCount(step) {\n      if (!this.results || !this.results[step.index] || !this.results[step.index].capturedVariables) {\n        return 0;\n      }\n      return Object.keys(this.results[step.index].capturedVariables).length;\n    },\n    getDefinedVariablesCount(step) {\n      return (step.variableCaptures || []).length;\n    },\n    getCapturedValue(step, name) {\n      if (!this.results || !this.results[step.index] || !this.results[step.index].capturedVariables) {\n        return null;\n      }\n      return this.results[step.index].capturedVariables[name] || null;\n    },\n    getMethodColor(method) {\n      const colors = {\n        GET: 'primary',\n        POST: 'success',\n        PUT: 'warning',\n        DELETE: 'error',\n        PATCH: 'info'\n      };\n      return colors[method] || 'grey';\n    },\n    getSourceLabel(source) {\n      const sources = {\n        'body': 'Corps de la réponse',\n        'responseBody': 'Corps de la réponse',\n        'headers': 'En-têtes de la réponse',\n        'responseHeaders': 'En-têtes de la réponse',\n        'url': 'URL de la réponse'\n      };\n      return sources[source] || source;\n    },\n    toggleAccordion(index) {\n      const position = this.expandedItems.indexOf(index);\n      if (position !== -1) {\n        this.expandedItems.splice(position, 1);\n      } else {\n        this.expandedItems.push(index);\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}