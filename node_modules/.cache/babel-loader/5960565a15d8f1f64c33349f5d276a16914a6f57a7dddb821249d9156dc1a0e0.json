{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"variable-capture\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"existing-captures mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"mb-2 text-body-2\"\n};\nconst _hoisted_4 = {\n  class: \"d-flex align-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_chip = _resolveComponent(\"v-chip\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_select = _resolveComponent(\"v-select\");\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$options.hasCaptureConfig ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_v_row, null, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.request.variableCapture, (capture, index) => {\n      return _openBlock(), _createBlock(_component_v_col, {\n        key: index,\n        cols: \"12\",\n        sm: \"6\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, {\n          variant: \"outlined\",\n          class: \"capture-card\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"text-subtitle-1 d-flex justify-space-between\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(capture.name) + \" \", 1), _createElementVNode(\"div\", null, [_createVNode(_component_v_btn, {\n              icon: \"mdi-pencil\",\n              variant: \"text\",\n              color: \"primary\",\n              size: \"small\",\n              density: \"compact\",\n              onClick: $event => $options.editCapture(index),\n              class: \"mr-1\"\n            }, null, 8, [\"onClick\"]), _createVNode(_component_v_btn, {\n              icon: \"mdi-delete-outline\",\n              variant: \"text\",\n              color: \"error\",\n              size: \"small\",\n              density: \"compact\",\n              onClick: $event => $options.removeCapture(index)\n            }, null, 8, [\"onClick\"])])]),\n            _: 2\n          }, 1024), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n              class: \"text-caption text-grey\"\n            }, \"Expression régulière\", -1)), _createElementVNode(\"div\", _hoisted_3, _toDisplayString(capture.regex), 1), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_v_chip, {\n              size: \"small\",\n              color: \"primary\",\n              class: \"mr-2\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString(capture.source), 1)]),\n              _: 2\n            }, 1024), capture.required ? (_openBlock(), _createBlock(_component_v_chip, {\n              key: 0,\n              size: \"small\",\n              color: \"error\"\n            }, {\n              default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Obligatoire\")])),\n              _: 1\n            })) : _createCommentVNode(\"\", true)])]),\n            _: 2\n          }, 1024)]),\n          _: 2\n        }, 1024)]),\n        _: 2\n      }, 1024);\n    }), 128))]),\n    _: 1\n  })])) : _createCommentVNode(\"\", true), _createVNode(_component_v_btn, {\n    color: \"primary\",\n    block: \"\",\n    \"prepend-icon\": \"mdi-plus\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.showDialog = true)\n  }, {\n    default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\" Ajouter une capture \")])),\n    _: 1\n  }), _createVNode(_component_v_dialog, {\n    modelValue: $data.showDialog,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.showDialog = $event),\n    \"max-width\": \"600px\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card, null, {\n      default: _withCtx(() => [_createVNode(_component_v_card_title, {\n        class: \"bg-primary text-white\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-code-brackets\",\n          class: \"mr-2\"\n        }), _createTextVNode(\" \" + _toDisplayString($data.editIndex !== null ? 'Modifier la capture' : 'Nouvelle capture de variable'), 1)]),\n        _: 1\n      }), _createVNode(_component_v_card_text, {\n        class: \"pt-4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_form, {\n          onSubmit: _withModifiers($options.saveCapture, [\"prevent\"]),\n          ref: \"captureForm\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_row, null, {\n            default: _withCtx(() => [_createVNode(_component_v_col, {\n              cols: \"12\",\n              sm: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.captureName,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.captureName = $event),\n                label: \"Nom de variable\",\n                placeholder: \"ex: authToken\",\n                variant: \"outlined\",\n                density: \"comfortable\",\n                rules: [v => !!v || 'Le nom de variable est requis']\n              }, null, 8, [\"modelValue\", \"rules\"])]),\n              _: 1\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              sm: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $data.captureRegex,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.captureRegex = $event),\n                label: \"Expression régulière\",\n                placeholder: \"ex: token:([A-Za-z0-9]+)\",\n                variant: \"outlined\",\n                density: \"comfortable\",\n                rules: [v => !!v || 'L\\'expression régulière est requise']\n              }, null, 8, [\"modelValue\", \"rules\"])]),\n              _: 1\n            })]),\n            _: 1\n          }), _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [_createVNode(_component_v_col, {\n              cols: \"12\",\n              sm: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_select, {\n                modelValue: $data.captureSource,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.captureSource = $event),\n                label: \"Source\",\n                items: ['responseBody', 'responseHeaders', 'url'],\n                variant: \"outlined\",\n                density: \"comfortable\"\n              }, null, 8, [\"modelValue\"])]),\n              _: 1\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              sm: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_checkbox, {\n                modelValue: $data.captureRequired,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.captureRequired = $event),\n                label: \"Obligatoire\",\n                hint: \"Si activé, l'absence de capture générera une erreur\",\n                \"persistent-hint\": \"\"\n              }, null, 8, [\"modelValue\"])]),\n              _: 1\n            })]),\n            _: 1\n          }), _createVNode(_component_v_row, null, {\n            default: _withCtx(() => [_createVNode(_component_v_col, {\n              cols: \"12\",\n              sm: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_checkbox, {\n                modelValue: $data.captureFailOnError,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.captureFailOnError = $event),\n                label: \"Échouer en cas d'erreur\",\n                \"hide-details\": \"\"\n              }, null, 8, [\"modelValue\"])]),\n              _: 1\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              sm: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_select, {\n                modelValue: $data.captureScope,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.captureScope = $event),\n                label: \"Portée\",\n                items: [{\n                  title: 'Globale',\n                  value: 'global'\n                }, {\n                  title: 'Cette étape uniquement',\n                  value: 'step'\n                }],\n                variant: \"outlined\",\n                density: \"comfortable\"\n              }, null, 8, [\"modelValue\"])]),\n              _: 1\n            })]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"onSubmit\"])]),\n        _: 1\n      }), _createVNode(_component_v_card_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n          color: \"grey\",\n          text: \"\",\n          onClick: $options.closeDialog\n        }, {\n          default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\"Annuler\")])),\n          _: 1\n        }, 8, [\"onClick\"]), _createVNode(_component_v_btn, {\n          color: \"primary\",\n          onClick: $options.saveCapture\n        }, {\n          default: _withCtx(() => _cache[12] || (_cache[12] = [_createTextVNode(\"Enregistrer\")])),\n          _: 1\n        }, 8, [\"onClick\"])]),\n        _: 1\n      })]),\n      _: 1\n    })]),\n    _: 1\n  }, 8, [\"modelValue\"])]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}